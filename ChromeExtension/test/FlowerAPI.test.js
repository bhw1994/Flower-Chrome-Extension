import MemoAPI from "../src/apis/FlowerAPI"
import chai, { expect } from "chai"
import FlowerAPI from "../src/apis/FlowerAPI";

const token = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoicVlicW5teVBpT05fWDB5OGJYU2I3ZyIsInN1YiI6IjhhYjQ4OTU0LTgyZmQtNDcyNS1iMDRhLWQzNTFkM2RhYzcwZSIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9GYWNlYm9vayJdLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTJfcUoySkxTZ3JNIiwiY29nbml0bzp1c2VybmFtZSI6IkZhY2Vib29rXzIyOTM3Nzk0MjQwMzg0NzQiLCJub25jZSI6ImVOOGNaX3FycFhraGlWYWI2MnNnTFZuOW82b29VNDM5V19OUU9jYjZoOFNDUXMycFRQRTNCaVoxTUZWSlRvaE5JelhJMWhpOG9ITWNnY2dhdWh4aHMybWdIYzJ1TWpSNUlFcGdWbGpEbHM5T1M5WWtOcWFHRU4tcUVHbFRrNHN5WnBMX0hwV3Zva0pqQlUyVWgtRkRITGlzdE1HTGFZcnRVcktOZHpnenRqVSIsImF1ZCI6IjR0amE3ZzFrMTAyYWhlc2dpNzB0NjNpY3EzIiwiaWRlbnRpdGllcyI6W3sidXNlcklkIjoiMjI5Mzc3OTQyNDAzODQ3NCIsInByb3ZpZGVyTmFtZSI6IkZhY2Vib29rIiwicHJvdmlkZXJUeXBlIjoiRmFjZWJvb2siLCJpc3N1ZXIiOm51bGwsInByaW1hcnkiOiJ0cnVlIiwiZGF0ZUNyZWF0ZWQiOiIxNTYyODI3MDg0NjM0In1dLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTU3MjUxMzQyMiwiZXhwIjoxNTcyNTE3MDIyLCJpYXQiOjE1NzI1MTM0MjIsImVtYWlsIjoiYmh3MTk5NEBnbWFpbC5jb20ifQ.pLf4HMR7kmbTDUGLLvpPJ1brOU7VxElrIfymDak85rNu65OxOEQby6lNUqyxi1pr5minZLXb5bkLfJpmucE5bDIOAFu-_zJlOytdCAnQYB9sJbZ_0HSP0FNX7eN3j9IYR4iOTCxGPN6AP44KPTxswgEt9a-zwcf2Egw5DgxoD57M88ykMi6DDODVSMrmTE0pbghonRIBl_cCKOgc4PpjeQVD3s0dos-oz-xxEsqETfpvVSV48jQyyvBL8xG_n6T03HqCjYK4PPyjXpfnLSQ7XrCYZMWZyGM67H0yEX3Hwr_Xmf0ZnuXnp_cSCb0AznrmadUrlmAkNwAIoFpsjp-Agw";

describe("FlowerAPI Test ", function () {
    it("should check token valid", async function () {
        //given 
        const validToken = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiQllXQ1lONjljRnFXdGVET0RjMWFHZyIsInN1YiI6IjE0NTM1OTNhLTI0ODctNDk5Ni1hOWVmLTUwY2Q1ZWU0OTVkMyIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9Hb29nbGUiXSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cL2FwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTSIsImNvZ25pdG86dXNlcm5hbWUiOiJHb29nbGVfMTAzNTI4MzAzMDU3NTc0NzcxMjUyIiwibm9uY2UiOiJKVVA4NnNfSW91UUkxc2xMOEtCSlNIUVVnb0ZLcjZQVVN2bEpBZ3h5dFd0bE8tZ0N3QzZYelZxbjc0Q2I3UTBKbjJzRzQ5UzlrSlNpOWJVS3pZWEtBSHRrZVNLa1lGVFM3cjVmRGNRUTAzcmFYQmZBSE1CY28tRXYzS1FyOVZpZlAwbkhHdUFNeXMtNjJINUZMbEE1RUVrckwyOWhvTkFYbUpHWnJGM293R2MiLCJhdWQiOiI0dGphN2cxazEwMmFoZXNnaTcwdDYzaWNxMyIsImlkZW50aXRpZXMiOlt7InVzZXJJZCI6IjEwMzUyODMwMzA1NzU3NDc3MTI1MiIsInByb3ZpZGVyTmFtZSI6Ikdvb2dsZSIsInByb3ZpZGVyVHlwZSI6Ikdvb2dsZSIsImlzc3VlciI6bnVsbCwicHJpbWFyeSI6InRydWUiLCJkYXRlQ3JlYXRlZCI6IjE1NjUxMTI1ODMwNjUifV0sInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNTcyNjA4NTk3LCJleHAiOjE1NzI2MTIxOTcsImlhdCI6MTU3MjYwODU5NywiZW1haWwiOiJudWd1emlpaUBnbWFpbC5jb20ifQ.C7-L9Zyi7jUdrU0rMTR0lcrobDbHEzkJKdmBNOWAvFAnn7R8GTUZcchAJYINiywE1dNxrJgH4VFxuCUVaAIqG1mf7CsakX7kv41Sf_KA4M3TVSrSB_1sVQzx_4RR4F6XssOsXUvW7vKPVVg_mWO5UFovJ1B2lgNno8A2j74rAVhuzR8VPseBVYWn4mJMz4BAF05NP8ZSrjQYYB2ccWGoox0Qn0Tr_ye5XjhSbSaESlaCroAH5U1eLq22Tc5HlEeox2sJDQ-Wq60E4h8fcISwvLL-pjh-dQ78ZWFukrjjxNmyxUwyRj61JO2KxiUV_T_Y55twBwbHRd-QkM2TTbkJ5A";
        
        //when
        const response = await FlowerAPI.checkTokenValid(validToken);

        //then
        expect(response).to.equal(true);

    });

    it("should check token invalid", async function () {
        //given 
        const invalidToken = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiRXRvQmI2Um5ubTN1S1lnZjg2Y0RYZyIsInN1YiI6IjhhYjQ4OTU0LTgyZmQtNDcyNS1iMDRhLWQzNTFkM2RhYzcwZSIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9GYWNlYm9vayJdLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTJfcUoySkxTZ3JNIiwiY29nbml0bzp1c2VybmFtZSI6IkZhY2Vib29rXzIyOTM3Nzk0MjQwMzg0NzQiLCJub25jZSI6IllZSGZxUzlkSEVrcVAxbkhfTUhKUUhCN3dyZkhjM1pBZDQtblJJaTRGb0hlOWFPMzJ3V0l1cXVWNnlDVlJqNjdMdmVqMk13NEQ0V1RiTG5MeTd6QVVJcWp3c2VQT29GSVZmWnNXSE9jeHcyWDhNVmx5VUFvLVNoT0p2d1ZHY1Zja1pRMlBVa0VyaEZNUU1WMkdwOFd4czBBOS1yZGxyYmlsUHY4STJOOGVxUSIsImF1ZCI6IjR0amE3ZzFrMTAyYWhlc2dpNzB0NjNpY3EzIiwiaWRlbnRpdGllcyI6W3sidXNlcklkIjoiMjI5Mzc3OTQyNDAzODQ3NCIsInByb3ZpZGVyTmFtZSI6IkZhY2Vib29rIiwicHJvdmlkZXJUeXBlIjoiRmFjZWJvb2siLCJpc3N1ZXIiOm51bGwsInByaW1hcnkiOiJ0cnVlIiwiZGF0ZUNyZWF0ZWQiOiIxNTYyODI3MDg0NjM0In1dLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTU3MjE1MzA0NywiZXhwIjoxNTcyMTU2NjQ3LCJpYXQiOjE1NzIxNTMwNDcsImVtYWlsIjoiYmh3MTk5NEBnbWFpbC5jb20ifQ.JVv78fZpAgVAFiRa3kmFTpysiURYl8gwaBEqsoMmqbezW7O1ujD6xlOCHo8ZK5jsTQBi4E5jMOh6NVpcRYtbHl0mMT9GDCZmnCWXhs6vepVXS5q4cNNtRLIbJLzhuMi_Seim_A-IUQ63x-jJBfUvWZbKi4KFoVBFl-a3N8lVesO-C8PmC91GqZ_woQcDnagtZULIRDyrTgtF4oEfBPNn7ATNrlHrXLK6dnOPxK9EJKFbPyeI9U8cw93ENuWUlQIZgkSqeYWDOPSxWH43hoQ0mwGQq016OzabCF_jAlk4uk98--7rh9VmjxV4bGoL3kixoIkKTO7sVvaCUHyrLUNqvg";
        
        //when
        const response = await FlowerAPI.checkTokenValid(invalidToken);

        //then
        expect(response).to.equal(false);

    });
});
